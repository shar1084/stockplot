# This workflow will perform code analysis to confirm if the pull requests can be merged
#
#

name: Code Review

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  # Perform linting on code
  linting:

    name: Linting
    runs-on: ubuntu-latest

    steps:
    - uses: stockplot/.github/workflows/lint.yml@main

  buildtest:
  
    runs-on: ubuntu-latest
    name: Build and Unit Tests
    needs:
       - linting
    steps:
    - uses: stockplot/.github/workflows/build.yml@main

  githubas:
  
    runs-on: ubuntu-latest
    name: Github Advanced Security
    needs:
       - linting
    steps:
    - uses: stockplot/.github/workflows/github-as.yml@main

  externalsast:
  
    runs-on: ubuntu-latest
    name: External SAST
    needs:
       - githubas
    steps:
    - uses: stockplot/.github/workflows/external-sast.yml@main
    